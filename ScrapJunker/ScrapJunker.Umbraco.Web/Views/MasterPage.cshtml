@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
    Layout = null;
    var site = @CurrentPage.Site() as IPublishedContent;
}

@helper CreateMenuItem(IPublishedContent content)
{
    <li class="nav-item @(content.Children.Any() ? "nav-dropdown" : "")">
        <a class="nav-link" href="@content.Url"><i class="fa fa-angle-right"></i> @content.Name </a>
        @*@if (content.Children.Any(child => child.IsVisible()))
        {
            <ul class="nav-dropdown-items">
                @foreach (var child in content.Children.Where(c => c.IsVisible()))
                {
                    @CreateMenuItem(child)
                }

            </ul>
        }*@
    </li>
}

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="ScrapJunker">
    <meta name="author" content="Vlad Apetre">
    <meta name="keyword" content="scrap, junk, crawl">
    <link rel="shortcut icon" href="~/theme/img/favicon.png">
    <title>ScrapJunker</title>

    <!-- Icons -->
    <link href="~/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="~/theme/css/simple-line-icons.css" rel="stylesheet">

    <!-- Main styles for this application -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link href="~/theme/css/style.css" rel="stylesheet">

    <link href="~/content/toastr.min.css" rel="stylesheet" />
    @RenderSection("Styles", false)

    <style>
        #backToTop {
            display: none; /* Hidden by default */
            position: fixed; /* Fixed/sticky position */
            bottom: 20px; /* Place the button at the bottom of the page */
            right: 30px; /* Place the button 30px from the right */
            z-index: 99; /* Make sure it does not overlap */
            outline: none; /* Remove outline */
            /*background-color: #29363d;*/ /* Set a background color */
            color: white; /* Text color */
            cursor: pointer; /* Add a mouse pointer on hover */
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 20px solid #29363d;
        }
    </style>
</head>

<!-- BODY options, add following classes to body to change options

// Header options
1. '.header-fixed'					- Fixed Header

// Sidebar options
1. '.sidebar-fixed'					- Fixed Sidebar
2. '.sidebar-hidden'				- Hidden Sidebar
3. '.sidebar-off-canvas'		- Off Canvas Sidebar
4. '.sidebar-minimized'			- Minimized Sidebar (Only icons)
5. '.sidebar-compact'			  - Compact Sidebar

// Aside options
1. '.aside-menu-fixed'			- Fixed Aside Menu
2. '.aside-menu-hidden'			- Hidden Aside Menu
3. '.aside-menu-off-canvas'	- Off Canvas Aside Menu

// Breadcrumb options
1. '.breadcrumb-fixed'			- Fixed Breadcrumb

// Footer options
1. '.footer-fixed'					- Fixed footer

-->

<body class="app header-fixed sidebar-fixed aside-menu-fixed aside-menu-hidden">
    <header class="app-header navbar">
        <button class="navbar-toggler mobile-sidebar-toggler d-lg-none" type="button">☰</button>
        <a class="navbar-brand" href="/#"></a>
        <button class="navbar-toggler sidebar-toggler d-md-down-none" type="button">☰</button>

        <ul class="nav navbar-nav d-md-down-none">
            <li class="nav-item px-3">
                <a class="nav-link" href="/#">Dashboard</a>
            </li>
            <li class="nav-item px-3">
                <a class="nav-link" href="/#">Users</a>
            </li>
            <li class="nav-item px-3">
                <a class="nav-link" href="/#">Settings</a>
            </li>
        </ul>

    </header>

    <div class="app-body">
        <div class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" href="@site.Url"><i class="fa fa-home"></i> @site.Name </a>
                    </li>
                    <li class="nav-title">
                        UI Elements
                    </li>
                    @foreach (var siteChild in site.Children.Where(child=>child.IsVisible()))
                    {
                        @CreateMenuItem(siteChild);
                    }
                </ul>
            </nav>
        </div>

        <!-- Main content -->
        <main class="main">

            <!-- Breadcrumb -->
            <ol class="breadcrumb">
                @foreach (var ancestor in CurrentPage.AncestorsOrSelf().OrderBy("Level"))
                {
                    var isActive = ancestor.Name == CurrentPage.Name;
                    <li class="breadcrumb-item @(isActive ? "active" : "")">
                        @if (isActive)
                        {
                            <a href="@ancestor.Url"><b>@ancestor.Name</b></a>
                        }
                        else
                        {
                            <a href="@ancestor.Url">@ancestor.Name</a>
                        }
                    </li>
                }

                <!-- Breadcrumb Menu-->
                @*<li class="breadcrumb-menu d-md-down-none">
                    <div class="btn-group" role="group" aria-label="Button group">
                        <a class="btn" href="/#"><i class="icon-speech"></i></a>
                        <a class="btn" href="~/theme/./"><i class="icon-graph"></i> &nbsp;Dashboard</a>
                        <a class="btn" href="/#"><i class="icon-settings"></i> &nbsp;Settings</a>
                    </div>
                </li>*@
            </ol>


            <div class="container-fluid">
                <div class="animated fadeIn">
                    @RenderBody()
                </div>

            </div>
            <!-- /.conainer-fluid -->
        </main>


    </div>

    <footer class="app-footer">
        <a href="@site.Url">ScrapJunker</a> © 2017 scrapjunker.
        <span class="float-right">
            Powered by <a href="@site.Url">ScrapJunker</a>
        </span>
    </footer>

    <div id="backToTop" title="Go to top"></div>

    <!-- Bootstrap and necessary plugins -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript" ></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript"></script>

    <script src="https://rawgit.com/HubSpot/tether/master/dist/js/tether.min.js" type="text/javascript"></script>
    <script src="https://rawgit.com/HubSpot/pace/v1.0.0/pace.min.js" type="text/javascript"></script>

    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js" type="text/javascript"></script>

    <script src="https://cdn.jsdelivr.net/jquery.loadingoverlay/latest/loadingoverlay.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/jquery.loadingoverlay/latest/loadingoverlay_progress.min.js" type="text/javascript"></script>

    <!-- Plugins and scripts required by all views -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" type="text/javascript"></script>


    <!-- GenesisUI main scripts -->
    <script src="~/Scripts/toastr.min.js" type="text/javascript"></script>
    <script src="~/Scripts/site/ajax.js" type="text/javascript"></script>
    <script src="~/theme/js/app.js" type="text/javascript"></script>
    <script src="~/Scripts/site/master.js" type="text/javascript"></script>

    @RenderSection("Scripts", false)

</body>
</html>
